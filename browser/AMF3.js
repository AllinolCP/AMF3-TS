/**
 * Author: Zaseth
 * Version: 1.0.3
 * License: MIT
 */

!function e(t,i,r){function s(a,o){if(!i[a]){if(!t[a]){var h="function"==typeof require&&require;if(!o&&h)return h(a,!0);if(n)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[a]={exports:{}};t[a][0].call(l.exports,(function(e){return s(t[a][1][e]||e)}),l,l.exports,e,t,i,r)}return i[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,i){"use strict";window.AMF3=e("../dist/AMF3").AMF3,window.Stream=e("../dist/core/stream").Stream,window.TextEncoder||e("./EncoderDecoderTogether.min")},{"../dist/AMF3":3,"../dist/core/stream":6,"./EncoderDecoderTogether.min":2}],2:[function(e,t,i){(function(e){"use strict";!function(e){function t(){}function i(){}var r=String.fromCharCode,s={}.toString,n=s.call(e.SharedArrayBuffer),a=s(),o=e.Uint8Array,h=o||Array,c=o?ArrayBuffer:h,l=c.isView||function(e){return e&&"length"in e},d=s.call(c.prototype);c=i.prototype;var f=e.TextEncoder,u=new(o?Uint16Array:h)(32);t.prototype.decode=function(e){if(!l(e)){var t=s.call(e);if(t!==d&&t!==n&&t!==a)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");e=o?new h(e):e||[]}for(var i,c,f,p=t="",g=0,m=0|e.length,y=m-32|0,U=0,I=0,w=0,z=-1;g<m;){for(i=g<=y?32:m-g|0;w<i;g=g+1|0,w=w+1|0){switch((c=255&e[g])>>4){case 15:if(2!=(f=255&e[g=g+1|0])>>6||247<c){g=g-1|0;break}U=(7&c)<<6|63&f,I=5,c=256;case 14:U<<=6,U|=(15&c)<<6|63&(f=255&e[g=g+1|0]),I=2==f>>6?I+4|0:24,c=c+256&768;case 13:case 12:U<<=6,U|=(31&c)<<6|63&(f=255&e[g=g+1|0]),I=I+7|0,g<m&&2==f>>6&&U>>I&&1114112>U?(c=U,0<=(U=U-65536|0)&&(z=55296+(U>>10)|0,c=56320+(1023&U)|0,31>w?(u[w]=z,w=w+1|0,z=-1):(f=z,z=c,c=f))):(g=g-(c>>=8)-1|0,c=65533),U=I=0,i=g<=y?32:m-g|0;default:u[w]=c;continue;case 11:case 10:case 9:case 8:}u[w]=65533}if(p+=r(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15],u[16],u[17],u[18],u[19],u[20],u[21],u[22],u[23],u[24],u[25],u[26],u[27],u[28],u[29],u[30],u[31]),32>w&&(p=p.slice(0,w-32|0)),g<m){if(u[0]=z,w=~z>>>31,z=-1,p.length<t.length)continue}else-1!==z&&(p+=r(z));t+=p,p=""}return t},c.encode=function(e){var t,i=0|(e=void 0===e?"":""+e).length,r=new h(8+(i<<1)|0),s=0,n=!o;for(t=0;t<i;t=t+1|0,s=s+1|0){var a=0|e.charCodeAt(t);if(127>=a)r[s]=a;else{if(2047>=a)r[s]=192|a>>6;else{e:{if(55296<=a)if(56319>=a){var c=0|e.charCodeAt(t=t+1|0);if(56320<=c&&57343>=c){if(65535<(a=(a<<10)+c-56613888|0)){r[s]=240|a>>18,r[s=s+1|0]=128|a>>12&63,r[s=s+1|0]=128|a>>6&63,r[s=s+1|0]=128|63&a;continue}break e}a=65533}else 57343>=a&&(a=65533);!n&&t<<1<s&&t<<1<(s-7|0)&&(n=!0,(c=new h(3*i)).set(r),r=c)}r[s]=224|a>>12,r[s=s+1|0]=128|a>>6&63}r[s=s+1|0]=128|63&a}}return o?r.subarray(0,s):r.slice(0,s)},f||(e.TextDecoder=t,e.TextEncoder=i)}(""+void 0==typeof e?""+void 0==typeof self?this:self:e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.AMF3=void 0;const r=e("./core/serializer"),s=e("./core/deserializer"),n=e("./core/stream"),a=e("./utils/mapping");class o{static setDynamicPropertyWriter(e){this.mapping.setDynamicPropertyWriter(e)}static getDynamicPropertyWriter(){return this.mapping.getDynamicPropertyWriter()}static hasDynamicPropertyWriter(){return this.mapping.hasDynamicPropertyWriter()}static registerClassAlias(e,t){this.mapping.registerClassAlias(e,t)}static deregisterClassAlias(e){this.mapping.deregisterClassAlias(e)}static isRegisteredClassAlias(e){return this.mapping.isRegisteredClassAlias(e)}static parse(e){return new s.Deserializer({stream:new n.Stream(e),mapping:this.mapping}).deserialize()}static stringify(e){return new r.Serializer({stream:new n.Stream,mapping:this.mapping}).serialize(e)}}i.AMF3=o,o.mapping=new a.Mapping},{"./core/deserializer":4,"./core/serializer":5,"./core/stream":6,"./utils/mapping":17}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Deserializer=void 0;const r=e("../index"),s=e("../utils/reference"),n=e("../enums/markers");i.Deserializer=class{constructor(e){this.stream=e.stream,this.mapping=e.mapping,this.reference=new s.Reference}deserialize(){const e=this.stream.readUnsignedByte();switch(e){case n.Markers.NULL:return this.deserializeNull();case n.Markers.UNDEFINED:return this.deserializeUndefined();case n.Markers.TRUE:case n.Markers.FALSE:return this.deserializeBoolean(e);case n.Markers.INTEGER:return this.deserializeInteger();case n.Markers.DOUBLE:return this.deserializeDouble();case n.Markers.STRING:return this.deserializeString();case n.Markers.DATE:return this.deserializeDate();case n.Markers.ARRAY:return this.deserializeArray();case n.Markers.OBJECT:return this.deserializeObject();case n.Markers.BYTEARRAY:return this.deserializeByteArray();case n.Markers.VECTOR_INT:return this.deserializeVectorInt();case n.Markers.VECTOR_UINT:return this.deserializeVectorUint();case n.Markers.VECTOR_DOUBLE:return this.deserializeVectorDouble();case n.Markers.SET:return this.deserializeSet();case n.Markers.MAP:return this.deserializeMap();default:throw new TypeError(`Unknown or unsupported marker found: '${e}'.`)}}deserializeNull(){return null}deserializeUndefined(){}deserializeBoolean(e){return e===n.Markers.TRUE}deserializeInteger(){return this.stream.readUInt29()<<3>>3}deserializeDouble(){return this.stream.readDouble()}deserializeString(){if(this.reference.get("stringReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=this.reference.flags,t=e>0?this.stream.readUTFBytes(e):"";return e>0&&this.reference.add("stringReferences",t),t}deserializeDate(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=new Date(this.stream.readDouble());return this.reference.add("objectReferences",e),e}deserializeArray(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=[],t=this.reference.flags;if(this.reference.add("objectReferences",e),0===t)for(let t=this.deserializeString();""!==t;t=this.deserializeString())e[t]=this.deserialize();else{const i=this.stream.position,r=""!==this.deserializeString();if(this.stream.position=r?i:i+1,r)for(let t=this.deserializeString();""!==t;t=this.deserializeString())e[t]=this.deserialize();else e.length=t;for(let i=0;i<t;i++){const t=this.deserialize();null!=t&&(e[i]=t)}}return e}deserializeObject(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;let e={},t={};if(this.reference.add("objectReferences",e),this.reference.get("traitReferences")?t=this.reference.dereferenced:(t={externalizable:Boolean(this.reference.popFlag()),dynamic:Boolean(this.reference.popFlag()),count:this.reference.flags,className:this.deserializeString()},this.reference.add("traitReferences",t)),t.externalizable){if(!this.mapping.isRegisteredClassAlias(t.className))throw new Error(`Tried to deserialize an unregistered externalizable class: '${t.className}'.`);return e=new(this.mapping.getDefinitionByName(t.className)),e.readExternal(this.stream),e}if(t.dynamic){for(let t=this.deserializeString();""!==t;t=this.deserializeString())e[t]=this.deserialize();return e}if(""!==t.className){if(!this.mapping.isRegisteredClassAlias(t.className))throw new Error(`Tried to deserialize an unregistered class: '${t.className}'.`);e=new(this.mapping.getDefinitionByName(t.className))}for(let i=0;i<t.count;i++)e[this.deserializeString()]=this.deserialize();return e}deserializeByteArray(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=new r.Stream,t=this.reference.flags;return this.reference.add("objectReferences",e),this.stream.readBytes(e,0,t),e}deserializeVectorInt(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=this.reference.flags,t=new Int32Array(e),i=this.stream.readBoolean();this.reference.add("objectReferences",t);for(let i=0;i<e;i++)t[i]=this.stream.readInt();return i?Object.preventExtensions(t):t}deserializeVectorUint(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=this.reference.flags,t=new Uint32Array(e),i=this.stream.readBoolean();this.reference.add("objectReferences",t);for(let i=0;i<e;i++)t[i]=this.stream.readUnsignedInt();return i?Object.preventExtensions(t):t}deserializeVectorDouble(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=this.reference.flags,t=new Float64Array(e),i=this.stream.readBoolean();this.reference.add("objectReferences",t);for(let i=0;i<e;i++)t[i]=this.stream.readDouble();return i?Object.preventExtensions(t):t}deserializeSet(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=new Set,t=this.reference.flags;this.reference.add("objectReferences",e);for(let i=0;i<t;i++)e.add(this.deserialize());return e}deserializeMap(){if(this.reference.get("objectReferences",this.stream.readUInt29()))return this.reference.dereferenced;const e=new Map,t=this.reference.flags;this.reference.add("objectReferences",e);for(let i=0;i<t;i++)e.set(this.deserialize(),this.deserialize());return e}}},{"../enums/markers":7,"../index":9,"../utils/reference":18}],5:[function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.Serializer=void 0;const s=e("../index"),n=e("../utils/reference"),a=e("../enums/markers"),o=r(e("../utils/index"));i.Serializer=class{constructor(e){this.stream=e.stream,this.mapping=e.mapping,this.reference=new n.Reference}serialize(e){if(null===e)this.serializeNull();else if(void 0===e)this.serializeUndefined();else{switch(e.constructor){case Boolean:this.serializeBoolean(e);break;case Number:this.serializeInteger(e);break;case String:this.serializeString(e);break;case Date:this.serializeDate(e);break;case Array:this.serializeArray(e);break;case Function:this.serializeUndefined();break;case Object:this.serializeObject(e);break;case s.Stream:this.serializeByteArray(e);break;case Int32Array:this.serializeVectorInt(e);break;case Uint32Array:this.serializeVectorUint(e);break;case Float64Array:this.serializeVectorDouble(e);break;case Set:this.serializeSet(e);break;case Map:this.serializeMap(e);break;default:this.serializeUnidentifiedObject(e)}}return this.stream.data}writeDynamicProperty(e,t){this.serializeString(e,!1),this.serialize(t)}serializeNull(){this.stream.writeUnsignedByte(a.Markers.NULL)}serializeUndefined(){this.stream.writeUnsignedByte(a.Markers.UNDEFINED)}serializeBoolean(e){e instanceof Boolean&&(e=e.valueOf()),this.stream.writeUnsignedByte(e?a.Markers.TRUE:a.Markers.FALSE)}serializeInteger(e){e<<3>>3===e?(this.stream.writeUnsignedByte(a.Markers.INTEGER),this.stream.writeUInt29(536870911&e)):(this.stream.writeUnsignedByte(a.Markers.DOUBLE),this.stream.writeDouble(e))}serializeString(e,t=!0){t&&this.stream.writeUnsignedByte(a.Markers.STRING);const i=o.default.byteLength(e);if(0===i)return this.stream.writeUInt29(1);const r=this.reference.check("stringReferences",e);if(!1!==r)return this.stream.writeUInt29(r<<1);this.stream.writeUInt29(i<<1|1),this.stream.writeUTFBytes(e)}serializeDate(e){this.stream.writeUnsignedByte(a.Markers.DATE);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(1),this.stream.writeDouble(e.getTime())}serializeArray(e){this.stream.writeUnsignedByte(a.Markers.ARRAY);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);const i=o.default.isAssociativeArray(e);if(i&&0===e.length||this.stream.writeUInt29(e.length<<1|1),i&&e.length>0||this.stream.writeUInt29(1),i){for(const t in e)isNaN(t)&&(this.serializeString(t,!1),this.serialize(e[t]));e.length>0&&this.stream.writeUInt29(1)}for(let t=0;t<e.length;t++)this.serialize(e[t]);i&&0===e.length&&this.stream.writeUInt29(1)}serializeObject(e){this.stream.writeUnsignedByte(a.Markers.OBJECT);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);const i={},r=Object.getPrototypeOf(e).constructor;if(i.className=this.mapping.isRegisteredClassAlias(r)?this.mapping.getQualifiedClassName(r):"",i.externalizable=o.default.isExternalizableClass(e),i.dynamic=""===i.className&&r===Object,i.keys=i.externalizable||i.dynamic?[]:Object.keys(e),i.count=i.keys.length,i.externalizable&&!this.mapping.isRegisteredClassAlias(r))throw new Error(`Tried to serialize an unregistered externalizable class: '${r.name}'.`);const s=this.reference.check("traitReferences",i);if(!1!==s?this.stream.writeUInt29(s<<2|1):(this.stream.writeUInt29(3|(i.externalizable?4:0)|(i.dynamic?8:0)|i.count<<4),this.serializeString(i.className,!1)),i.externalizable)return e.writeExternal(this.stream);if(i.dynamic){if(this.mapping.hasDynamicPropertyWriter()){const t=this.mapping.getDynamicPropertyWriter();o.default.isDynamicPropertyWriterClass(t)&&t.writeDynamicProperties(e,this)}else for(const t in e)this.serializeString(t,!1),this.serialize(e[t]);return this.stream.writeUInt29(1)}for(let t=0;t<i.count;t++){const r=i.keys[t];this.serializeString(r,!1),this.serialize(e[r])}}serializeByteArray(e){this.stream.writeUnsignedByte(a.Markers.BYTEARRAY);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(e.length<<1|1),this.stream.writeBytes(e)}serializeVectorInt(e){this.stream.writeUnsignedByte(a.Markers.VECTOR_INT);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(e.length<<1|1),this.stream.writeBoolean(!Object.isExtensible(e));for(let t=0;t<e.length;t++)this.stream.writeInt(e[t])}serializeVectorUint(e){this.stream.writeUnsignedByte(a.Markers.VECTOR_UINT);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(e.length<<1|1),this.stream.writeBoolean(!Object.isExtensible(e));for(let t=0;t<e.length;t++)this.stream.writeUnsignedInt(e[t])}serializeVectorDouble(e){this.stream.writeUnsignedByte(a.Markers.VECTOR_DOUBLE);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(e.length<<1|1),this.stream.writeBoolean(!Object.isExtensible(e));for(let t=0;t<e.length;t++)this.stream.writeDouble(e[t])}serializeSet(e){this.stream.writeUnsignedByte(a.Markers.SET);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(e.size<<1|1);for(const t of e)this.serialize(t)}serializeMap(e){this.stream.writeUnsignedByte(a.Markers.MAP);const t=this.reference.check("objectReferences",e);if(!1!==t)return this.stream.writeUInt29(t<<1);this.stream.writeUInt29(e.size<<1|1);for(const[t,i]of e)this.serialize(t),this.serialize(i)}serializeUnidentifiedObject(e){const t=Object.getPrototypeOf(e).constructor;if(!this.mapping.isRegisteredClassAlias(t)){if(o.default.isClass(t.name.toString()))return this.serializeObject(e);throw new TypeError(`Unknown or unsupported type found: '${t.name}'.`)}this.serializeObject(e)}}},{"../enums/markers":7,"../index":9,"../utils/index":16,"../utils/reference":18}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Stream=void 0;const r=e("../enums/sizes");i.Stream=class{constructor(e=[]){this.data=e,this.position=0,this.endian=!1}get length(){return this.data.length}get bytesAvailable(){return this.length-this.position}canWrite(e,t,i){if(e<t||e>i)throw new RangeError(`The value: '${e}' is out of range (${t}, ${i}).`)}canRead(e){const t=this.bytesAvailable;if(0===t)throw new RangeError("There's no data left to read.");if(t<e)throw new RangeError(`Couldn't read an integer of '${8*e}' bits as there's only '${t}' bytes available.`)}signedOverflow(e,t){const i=1<<t-1;return(e&i-1)-(e&i)}writeBoolean(e){this.writeByte(e?1:0)}readBoolean(){return 0!==this.readByte()}writeByte(e){this.canWrite(e,r.Sizes.INT8_MIN,r.Sizes.INT8_MAX),this.data[this.position++]=this.signedOverflow(e,8)}readByte(){return this.canRead(1),this.data[this.position++]}writeUnsignedByte(e){this.canWrite(e,r.Sizes.UINT8_MIN,r.Sizes.UINT8_MAX),this.data[this.position++]=e}readUnsignedByte(){return this.canRead(1),this.data[this.position++]}writeShort(e){e=this.signedOverflow(e,16),this.canWrite(e,r.Sizes.INT16_MIN,r.Sizes.INT16_MAX),this.endian?(this.data[this.position++]=e,this.data[this.position++]=e>>>8):(this.data[this.position++]=e>>>8,this.data[this.position++]=e)}readShort(){return this.canRead(2),this.endian?this.data[this.position++]|this.data[this.position++]<<8:this.data[this.position++]<<8|this.data[this.position++]}writeUnsignedShort(e){this.canWrite(e,r.Sizes.UINT16_MIN,r.Sizes.UINT16_MAX),this.endian?(this.data[this.position++]=e,this.data[this.position++]=e>>>8):(this.data[this.position++]=e>>>8,this.data[this.position++]=e)}readUnsignedShort(){return this.canRead(2),this.endian?this.data[this.position++]|this.data[this.position++]<<8:this.data[this.position++]<<8|this.data[this.position++]}writeInt(e){e=this.signedOverflow(e,32),this.canWrite(e,r.Sizes.INT32_MIN,r.Sizes.INT32_MAX),this.endian?(this.data[this.position++]=e,this.data[this.position++]=e>>>8,this.data[this.position++]=e>>>16,this.data[this.position++]=e>>>24):(this.data[this.position++]=e>>>24,this.data[this.position++]=e>>>16,this.data[this.position++]=e>>>8,this.data[this.position++]=e)}readInt(){return this.canRead(4),this.endian?this.data[this.position++]|this.data[this.position++]<<8|this.data[this.position++]<<16|this.data[this.position++]<<24:this.data[this.position++]<<24|this.data[this.position++]<<16|this.data[this.position++]<<8|this.data[this.position++]}writeUnsignedInt(e){this.canWrite(e,r.Sizes.UINT32_MIN,r.Sizes.UINT32_MAX),this.endian?(this.data[this.position++]=e,this.data[this.position++]=e>>>8,this.data[this.position++]=e>>>16,this.data[this.position++]=e>>>24):(this.data[this.position++]=e>>>24,this.data[this.position++]=e>>>16,this.data[this.position++]=e>>>8,this.data[this.position++]=e)}readUnsignedInt(){return this.canRead(4),this.endian?this.data[this.position++]|this.data[this.position++]<<8|this.data[this.position++]<<16|this.data[this.position++]<<24:this.data[this.position++]<<24|this.data[this.position++]<<16|this.data[this.position++]<<8|this.data[this.position++]}writeUTF(e){const t=Array.from((new TextEncoder).encode(e));this.writeUnsignedShort(t.length),this.position+=t.length,this.data=this.data.concat(t)}readUTF(){const e=this.readUnsignedShort(),t=Uint8Array.from(this.data.slice(this.position,this.position+e));return this.position+=t.length,(new TextDecoder).decode(t)}writeUTFBytes(e){const t=Array.from((new TextEncoder).encode(e));this.position+=t.length,this.data=this.data.concat(t)}readUTFBytes(e){this.canRead(e);const t=Uint8Array.from(this.data.slice(this.position,this.position+e));return this.position+=e,(new TextDecoder).decode(t)}writeFloat(e){const t=new DataView(new ArrayBuffer(4));t.setFloat32(0,e,this.endian);const i=[...new Uint8Array(t.buffer)];this.position+=4,this.data=this.data.concat(i)}readFloat(){this.canRead(4);const e=this.data.slice(this.position,this.position+4),t=new Float32Array(Uint8Array.from(this.endian?e:e.reverse()).buffer)[0];return this.position+=4,t}writeDouble(e){const t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e,this.endian);const i=[...new Uint8Array(t.buffer)];this.position+=8,this.data=this.data.concat(i)}readDouble(){this.canRead(8);const e=this.data.slice(this.position,this.position+8),t=new Float64Array(Uint8Array.from(this.endian?e:e.reverse()).buffer)[0];return this.position+=8,t}writeBytes(e,t=0,i=0){0===i&&(i=e.length-t);for(let r=0;r<i;r++)this.data[r+this.position]=e.data[r+t];this.position+=i}readBytes(e,t=0,i=0){0===i&&(i=this.bytesAvailable);for(let r=0;r<i;r++)e.data[r+t]=this.data[r+this.position];this.position+=i}writeUInt29(e){if(e<r.Sizes.UINT29_1)this.writeUnsignedByte(e);else if(e<r.Sizes.UINT29_2)this.writeUnsignedByte(e>>7&r.Sizes.INT8_MAX|r.Sizes.UINT29_1),this.writeUnsignedByte(e&r.Sizes.INT8_MAX);else if(e<r.Sizes.UINT29_3)this.writeUnsignedByte(e>>14&r.Sizes.INT8_MAX|r.Sizes.UINT29_1),this.writeUnsignedByte(e>>7&r.Sizes.INT8_MAX|r.Sizes.UINT29_1),this.writeUnsignedByte(e&r.Sizes.INT8_MAX);else{if(!(e<r.Sizes.UINT29_4))throw new RangeError(`The value: '${e}' is out of range.`);this.writeUnsignedByte(e>>22&r.Sizes.INT8_MAX|r.Sizes.UINT29_1),this.writeUnsignedByte(e>>15&r.Sizes.INT8_MAX|r.Sizes.UINT29_1),this.writeUnsignedByte(e>>8&r.Sizes.INT8_MAX|r.Sizes.UINT29_1),this.writeUnsignedByte(e&r.Sizes.UINT8_MAX)}}readUInt29(){let e=0;for(let t=0;t<4;t++){const i=this.readUnsignedByte();if(e=3===t?(e<<8)+i:(e<<7)+(i&r.Sizes.INT8_MAX),!(i&r.Sizes.UINT29_1))break}return e}}},{"../enums/sizes":8}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Markers=void 0,function(e){e[e.UNDEFINED=0]="UNDEFINED",e[e.NULL=1]="NULL",e[e.FALSE=2]="FALSE",e[e.TRUE=3]="TRUE",e[e.INTEGER=4]="INTEGER",e[e.DOUBLE=5]="DOUBLE",e[e.STRING=6]="STRING",e[e.XML_DOCUMENT=7]="XML_DOCUMENT",e[e.DATE=8]="DATE",e[e.ARRAY=9]="ARRAY",e[e.OBJECT=10]="OBJECT",e[e.XML=11]="XML",e[e.BYTEARRAY=12]="BYTEARRAY",e[e.VECTOR_INT=13]="VECTOR_INT",e[e.VECTOR_UINT=14]="VECTOR_UINT",e[e.VECTOR_DOUBLE=15]="VECTOR_DOUBLE",e[e.SET=16]="SET",e[e.MAP=17]="MAP"}(i.Markers||(i.Markers={}))},{}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Sizes=void 0,function(e){e[e.INT8_MIN=-128]="INT8_MIN",e[e.INT8_MAX=127]="INT8_MAX",e[e.UINT8_MIN=0]="UINT8_MIN",e[e.UINT8_MAX=255]="UINT8_MAX",e[e.INT16_MIN=-32768]="INT16_MIN",e[e.INT16_MAX=32767]="INT16_MAX",e[e.UINT16_MIN=0]="UINT16_MIN",e[e.UINT16_MAX=65535]="UINT16_MAX",e[e.UINT29_1=128]="UINT29_1",e[e.UINT29_2=16384]="UINT29_2",e[e.UINT29_3=2097152]="UINT29_3",e[e.UINT29_4=1073741824]="UINT29_4",e[e.INT32_MIN=-2147483648]="INT32_MIN",e[e.INT32_MAX=2147483647]="INT32_MAX",e[e.UINT32_MIN=0]="UINT32_MIN",e[e.UINT32_MAX=4294967295]="UINT32_MAX"}(i.Sizes||(i.Sizes={}))},{}],9:[function(e,t,i){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||r(t,e,i)};Object.defineProperty(i,"__esModule",{value:!0}),s(e("./AMF3"),i),s(e("./core/stream"),i),s(e("./types/ECMAArray"),i),s(e("./interfaces/IDataInput"),i),s(e("./interfaces/IDataOutput"),i),s(e("./interfaces/IExternalizable"),i),s(e("./interfaces/IDynamicPropertyWriter"),i),s(e("./interfaces/IDynamicPropertyOutput"),i)},{"./AMF3":3,"./core/stream":6,"./interfaces/IDataInput":10,"./interfaces/IDataOutput":11,"./interfaces/IDynamicPropertyOutput":12,"./interfaces/IDynamicPropertyWriter":13,"./interfaces/IExternalizable":14,"./types/ECMAArray":15}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],11:[function(e,t,i){arguments[4][10][0].apply(i,arguments)},{dup:10}],12:[function(e,t,i){arguments[4][10][0].apply(i,arguments)},{dup:10}],13:[function(e,t,i){arguments[4][10][0].apply(i,arguments)},{dup:10}],14:[function(e,t,i){arguments[4][10][0].apply(i,arguments)},{dup:10}],15:[function(e,t,i){arguments[4][10][0].apply(i,arguments)},{dup:10}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={isClass:e=>-1===["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Float32Array","DataView","ArrayBuffer","WeakMap"].indexOf(e),byteLength:e=>(new TextEncoder).encode(e).length,isAssociativeArray:e=>Object.keys(e).length!==e.length,isExternalizableClass:e=>"writeExternal"in e&&"readExternal"in e,isDynamicPropertyWriterClass:e=>"writeDynamicProperties"in e}},{}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Mapping=void 0;i.Mapping=class{constructor(){this.classMapping=new WeakMap,this.aliasMapping=new Map,this.dynamicPropertyWriter=null}setDynamicPropertyWriter(e){this.dynamicPropertyWriter=e}getDynamicPropertyWriter(){return this.dynamicPropertyWriter}hasDynamicPropertyWriter(){return null!==this.dynamicPropertyWriter}getQualifiedClassName(e){return this.classMapping.get(e)}getDefinitionByName(e){return this.aliasMapping.get(e)}registerClassAlias(e,t){this.classMapping.set(t,e),this.aliasMapping.set(e,t)}deregisterClassAlias(e){let t,i;"string"==typeof e?(t=this.getDefinitionByName(e),i=this.getQualifiedClassName(t)):(i=this.getQualifiedClassName(e),t=this.getDefinitionByName(i)),this.classMapping.delete(t),this.aliasMapping.delete(i)}isRegisteredClassAlias(e){let t,i;return"string"==typeof e?(t=this.aliasMapping.has(e),i=this.classMapping.has(this.getDefinitionByName(e))):(t=this.classMapping.has(e),i=this.aliasMapping.has(this.getQualifiedClassName(e))),t&&i}}},{}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.Reference=void 0;i.Reference=class{constructor(){this.dereferenced=null,this.flags=0,this.stringReferences=[],this.objectReferences=[],this.traitReferences=[]}getTable(e){return{stringReferences:this.stringReferences,objectReferences:this.objectReferences,traitReferences:this.traitReferences}[e]}popFlag(){const e=1&this.flags;return this.flags>>=1,e}get(e,t=0){this.dereferenced=null,"traitReferences"!==e&&(this.flags=t);const i=!this.popFlag();if(i){const t=this.getTable(e);this.dereferenced=t[this.flags],"traitReferences"===e&&(this.dereferenced=JSON.parse(this.dereferenced))}return i}check(e,t){"traitReferences"===e&&(t=JSON.stringify(t));const i=this.getTable(e).indexOf(t);return i>-1?i:(this.add(e,t),!1)}add(e,t){"traitReferences"===e&&"string"!=typeof t&&(t=JSON.stringify(t));const i=this.getTable(e);i[i.length]=t}}},{}]},{},[1]);